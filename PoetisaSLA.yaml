
    id: "ANS-POETISA"
    version: "1.0"
    type: "agreement"
    context: 
      iAgree: "2.0"
      provider: "https://www.isotrol.com/"
      consumer: "http://www.juntadeandalucia.es/"
      validity: 
        timeZone: "Europe/Madrid"
        initial: "2018-05-01T00:00:00.000Z"
      definitions: 
        schemas: 
          BillingDiscount: 
            description: "Percentage to be discounted at the next monthly bill"
            type: "double"
            unit: "%"
        scopes: 
          node: 
            name: "Node"
            description: "identifier for a node in the platform"
            type: "string"
          impact: 
            name: "Impact"
            description: "the impact of the node on the platform"
            type: "string"
      infrastructure: 
        designer: "http://designer.governify.io"
        billing: "http://pricing.governify.io/billing"
    terms: 
      pricing: 
        currency: "EUR"
        billing: 
          period: "monthly"
          initial: "2018-04-28T10:35:36.000Z"
          rewards: 
            - 
              over: 
                BillingDiscount: 
                  $ref: "#/context/definitions/schemas/BillingDiscount"
              aggregatedBy: "sum"
              of: 
                - 
                  value: 6
                  condition: "(M5/M6 > 0.9+6.62 >= M5) ||(M3/M5 > 5+4.79 = M6) "
                - 
                  value: 2
                  condition: "(M6/M3 >= 3.39-22.71 > M1) ||(M4-M3 > 12.54/14.89 >= M3) "
                - 
                  value: 17
                  condition: "(M5-M6 <= 3.8*4.87 > M4) ||(M6+M5 >= 1.37+5.64 >= M6) "
                - 
                  value: 20
                  condition: "(M6/M3 >= 3.59+6.09 < M6) ||(M2+M2 < 23.8*13.48 < M4) "
      metrics: 
        M1: 
          schema: 
            descripcion: "Randomly generated metric"
            type: "double"
            minimum: 0
            maximum: 93
            unit: "B"
          computer: "http://localhost:30500/api/v1/metrics/M1"
        M2: 
          schema: 
            descripcion: "Randomly generated metric"
            type: "double"
            minimum: 0
            maximum: 70
            unit: "KB"
          computer: "http://localhost:30500/api/v1/metrics/M2"
        M3: 
          schema: 
            descripcion: "Randomly generated metric"
            type: "double"
            minimum: 0
            maximum: 32
            unit: "TB"
          computer: "http://localhost:30500/api/v1/metrics/M3"
        M4: 
          schema: 
            descripcion: "Randomly generated metric"
            type: "double"
            minimum: 0
            maximum: 80
            unit: "MB"
          computer: "http://localhost:30500/api/v1/metrics/M4"
        M5: 
          schema: 
            descripcion: "Randomly generated metric"
            type: "double"
            minimum: 0
            maximum: 6
            unit: "GB"
          computer: "http://localhost:30500/api/v1/metrics/M5"
        M6: 
          schema: 
            descripcion: "Randomly generated metric"
            type: "double"
            minimum: 0
            maximum: 11
            unit: "TB"
          computer: "http://localhost:30500/api/v1/metrics/M6"
      guarantees: 
        - 
          id: "G_M2"
          scope: 
            priority: 
              $ref: "#/context/definitions/scopes/impact"
            node: 
              $ref: "#/context/definitions/scopes/node"
          of: 
            - 
              scope: 
                node: "k-master, k-mysql, k-nfs, k-proxy"
                impact: "high"
              objective: "M2 >= 67.5"
              window: 
                type: "static"
                period: "monthly"
                initial: "2018-05-01T00:00:00.000Z"
            - 
              scope: 
                node: "k-minion1, k-minion2, k-minion3, k-minion4, k-minion5"
                impact: "medium"
              objective: "M2 >= 40.09"
              window: 
                type: "static"
                period: "monthly"
                initial: "2018-05-01T00:00:00.000Z"
            - 
              scope: 
                node: "k-portal, k-registry"
                impact: "low"
              objective: "M2 >= 59.43"
              window: 
                type: "static"
                period: "monthly"
                initial: "2018-05-01T00:00:00.000Z"
